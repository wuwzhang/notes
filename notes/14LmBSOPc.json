{"title":"source map","content":"SourceMap原理\n==\n\n> 保存源代码映射关系的文件，解决前端打包后 `debug`错误定位问题\n\n## `source map`的格式\n\n```json\n{\n\tversion : 3,\n\tfile: \"out.js\",\n\tsourceRoot : \"\",\n\tsources: [\"foo.js\", \"bar.js\"],\n\tnames: [\"src\", \"maps\", \"are\", \"fun\"],\n\tmappings: \"AAgBC,SAAQ;CAAEA\"\n}\n```\n\n### 属性\n\n- `version`：`Source map`的版本\n- `file`：转换后的文件名。\n- `sourceRoot`：转换前的文件所在的目录。如果与转换前的文件在同一目录，该项为空。\n- `sources`：转换前的文件。该项是一个数组，表示可能存在多个文件合并。\n- `names`：转换前的所有变量名和属性名。\n- `mappings`：记录位置信息的字符串\n\n### `mappings`\n- **对应行**: 以`;`分割\n  - 第一个`;`前的数据表示第一行的内容\n- **对应位置**: 以`,`分割\n\t- 第一个`,`前的数据表示改行代码的第一个位置\n- **位置转换**: 以`VLQ`（64未编码`[A-Z][a-z][0-9]+/`）编码表示，代表该位置对应的转换前的源码位置\n\n```js\nmappings: \"AAgBC,SAAQ;CAAEA\" // 表示一共2行 第一行2个位置 第二行一个位置\n```\n\n### 位置对应原理\n> 每个位置用`5`表示\n\n- 第`1`位: 在（转换后的代码的）的第几列\n- 第`2`位: 属于`sources`属性中的哪一个文件\n- 第`3`位: 属于转换前代码的第几行\n- 第`4`位: 属于转换前代码的第几列\n- 第`5`位: 位置属于names属性中的哪一个变量","tags":[],"folderPathname":"/font","data":{},"createdAt":"2020-11-20T07:11:34.428Z","updatedAt":"2021-03-03T02:52:25.327Z","trashed":false,"_id":"note:14LmBSOPc","_rev":"52-b4be7b5a16543c50c53c2fd33c7619f2"}