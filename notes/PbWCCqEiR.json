{"title":"APPV4 API","content":"## 约束\n1. 按视图模块整理\n2. 缺少巡检、隐患接口\n3. 符号\n   - `@` 满足需求，建议优化\n   - `$i` 建议合并, 符号相同表示合并\n   - `*` 建议保留， `*$i`表示建议保留原接口，并提供合并接口\n   - `&` 不满足当前需求\n   - `^` 与其他页面复用\n----\n# 执行端\n## 登录\n### 登录页\n- store\n   - user/v2\n   - core/v1\n- api\n   - user/v2/public/login\n   - `^*$i`core/v1/relation/list\n   - `^*$i`core/v1/relation/token/{id}\n\n### 忘记密码\n- store\n   - user/v2\n- api\n  - user/v2/public/exits\n  - user/v2/public/captcha\n  - user/v2/public/reset\n\n----\n\n## 首页\n### 入口页\n- store\n    - core/v1\n    - core/v2\n    - study/v1 \n- api\n    - `^&$ii`core/v1/relation/list \n        - 只提供平台查询，未返回当前平台\n    - `$i`core/v2/app/home/count\n    - `^*$i`core/v2/app/todo/list (合并，只需要返回待执行的前两条)\n    - `$ii`core/v1/tag/my/list\n    - `^@$ii`core/v1/message/my_center (消息模块改动，多余字段，不确定是否可用，字段命名丑陋)\n    - `^@`study/v1/training/video/app/page（建议提供list接口，现为page接口代替）\n    - `&$ii` 缺少每天登陆加积分接口\n### 消息\n- store\n    - core/v1\t\t \n- api\n    - `^@`core/v1/message/my_center (消息模块改动, 多余字段，不确定是否可用，字段命名丑陋)\n    - `@$i`core/v1/message/my_system/page (建议改为参数形式，接口可扩展)\n    - `@$i`core/v1/message/my_alarm/page （建议改为参数形式，接口可扩展）\n    - `@$i`core/v1/message/my_examine/page （建议改为参数形式，接口可扩展）\n    - `@$i`core/v1/message/my_nobody/page（建议改为参数形式，接口可扩展）\n### 报警\n- store\n    - core/v1 \n- api\n    - `@`core/v1/device_state/page (已处理接口慢)\n    - core/v1/device_state/detail (未处理详情)\n    - `@`core/v1/fireproof/alarm/detail/{disposeId} (已处理详情, 建议使用device_dispose)\n    - `@`core/v1/device_dispose/batchCreate (建议减少驼峰格式) \n    - `@`core/v1/device_dispose/create \n    - `@`core/v1/device_state_share/export (建议合并为device_state/share/export)\n### 隐患整改（未实现）\n### 报警高发\n- store\n    - core/v2 \n- api\n    - `@`core/v2/device_high_count/page (建议放在device模块下，类离线设备) \n### 离线设备（视图不可见）\n- store\n    - core/v2 \n- api\n    - core/v2/device/off/page \n### 代办事项\n- store\n    - core/v2\n- api\n\t\t- `^`core/v2/app/todo/list (合并，只需要返回待执行的前两条)\n### 远程监控（暂未开发）\n### 定点巡逻\n- store\n    - core/v1\n- api\n    - `@`core/v1/position_log/current_statistics (建议合并为position/log/state) \n    - core/v1/position/page\n    - core/v1/position/detail\n    - `@`core/v1/position_log/page (建议合并为position/log/page)\n    - `@$i`core/v1/position/clock/normal (建议和exception合并，使用参数)\n    - `@$i`core/v1/position/clock/exception\n### 消防巡检（未实现）\n### 智慧用水\n- store\n    - core/v1 \n- api\n    - `@`core/v1/device/water/page (建议合并为v2)\n    - `@`core/v1/device_data_push_log/pressure_height/over_seven/{deviceId} (建议放在device模块下，pressure, height, seven为参数传入)\n    - `^`core/v1/build/list\n    - runStatus/status 字典前端未用接口查询，和build/list建议合并后用接口查询\n### 智慧用电\n- store\n    - core/v1 \n- api\n    - `@`core/v1/device_wisdom_electricity/page (建议放在device下，与用水接口复用)\n    - `@`core/v1/device_data_push_log/leakage_temperature/over_seven/{deviceId} (建议放在device模块下，leakage, temperature, seven为参数传入，建议与用水接口复用)\n    - `^`core/v1/build/list\n    - runStatus/status 字典前端未用接口查询，和build/list建议合并后用接口查询\n### 智慧温感\n- store\n    - core/v1 \n- api\n    - `@`core/v1/device_warm_sensation/page (建议放在device模块下，类离线设备)\n### 智慧烟感\n- store\n    - core/v1 \n- api\n    - `@`core/v1/device_smart_smoke/page (建议放在device模块下，类离线设备)\n### 水浸设备\n- store\n    - temp/v1 \n- api\n    - temp/device/seepage/record/page \n### 智能充电桩（未实现）\n### 消防一刻-视频\n- store\n    - study/v1\n- api\n    - `^&`study/v1/training/video/app/page（建议提供list接口，现为page接口代替） \n    - `^`study/v1/create\n### 消防一刻-题库\n- store\n    - study/v1\n- api\n    - `&`study/v1/training/question/app/page（建议提供list接口，现为page接口代替） \n### 消防一刻-答题\n- store\n    - study/v1\n    - study/v2\n- api\n    - `^@`study/v1/training/question/app/page（建议根据size，提供随机的题目列表） \n    - `^`study/v2/create\n----\n## 资讯\n- store\n    - temp/v1 \n- api\n    - `^`temp/v1/article/page \n    - `^`temp/v1/article/detail/{id} \n----\n## 扫一扫\n- store\n    - core/v1\n- api\n    - core/v1/qr_code/detail \n    - core/v1/qr_code/getCodeByNfc\n----\n## 我的\n### 入口页\n- store\n    - user/v1\n    - core/v1\n- api\n    - `*$i`user/v1/personal/detail \n    - `^*$i`core/v1/relation/list\n    - `^`core/v1/relation/token/{id}\n### 个人资料\n- store\n    - `auth/v2` \n- api\n    - `@`auth/v2/user/personal/detail (是否合并到user/v1模块,与modify接口对称)\n    - /user/v1/personal/modify\n### 成长积分\n- store\n    - study/v2 \n- api\n    - `@`study/v2/check_record/study/page （模块名有点诡异, 积分需要和消防大脑合并）\n### 使用指南\n- store\n    - temp/v1 \n- api\n    - `^`temp/v1/article/page \n    - `^`temp/v1/article/detail/{id} \n### 意见反馈\n- store\n    - core/v1 \n- api\n    - core/v1/feed_back/create\n### 设置\n- store\n    - auth/v1 \n- api\n    - auth/v1/user/config/my \n    - auth/v1/user/modify\n    - `@`user/v1/account/modifyPassword (建议修改路径，减少驼峰格式，接口对称)","tags":[],"folderPathname":"/lc-doc","data":{},"createdAt":"2020-09-07T02:30:13.520Z","updatedAt":"2020-11-06T05:55:44.136Z","trashed":true,"_id":"note:PbWCCqEiR","_rev":"293-e6eb08f122309646e6f2360be26cc2b9"}