{"_id":"note:kBX2uHviE","title":"第56期","content":"## 2021/07/02\n## 每周资讯 - 第`56`期\n### 1. [有了这些轮子库，我的工作效率提升了N倍！](https://mp.weixin.qq.com/s/3u1HHGjBaxzMoMkkVAqk-A)\n> 前言：文章的灵感来源于，社群中某大佬分享一个自己耗时数月维护的github项目 awesome-nodejs 。或许你跟我一样会有一个疑惑，github上其实已经有个同类型的awesome-nodejs库且还高达41k⭐，重新维护一个新的意义何在？当你深入对比后，本质上还是有差别的，一个是分类体系粒度更细，其次是对中文更友好的翻译维护，也包括了对国内一些优秀的开源库的收录。最后我个人认为通过自己梳理，也能更好地做复盘和总结\n\n![](https://mmbiz.qpic.cn/mmbiz_png/lXoAxSVgJib0N9sSTlQ9DIZ2DQtz2HRBB9M44CXVDOZAEsUop9UMRttYmEmQItCpwPjAU21B9cr8e0SOmQQl23g/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)\n\n通过阅读 awesome-nodejs  库的收录，我抽取其中一些应用场景比较多的分类，通过分类涉及的应用场景跟大家分享工具\n\n#### 1.Git\n##### 1.1 应用场景1: 要实现git提交前 eslint 校验和 commit 信息的规范校验？\n可以使用以下工具：\n\n- husky - 现代化的本地Git钩子使操作更加轻松\n- pre-commit - 自动在您的git储存库中安装git pre-commit脚本，该脚本在pre-- - commit上运行您的npm test。\n- yorkie 尤大改写的yorkie，yorkie实际是fork husky，让 Git 钩子变得简单(在 vue-cli 3x 中使用)\n\n##### 1.2 应用场景2: 如何通过node拉取git仓库？（可用于开发脚手架）\n可以使用以下工具：\n\n- download-git-repo - 下载和提取Git仓库 (支持GitHub, GitLab, Bitbucket)。\n\n##### 1.3 应用场景3: 如何在终端看git 流程图？\n可以使用以下工具：\n\n- gitgraph -  在 Terminal 绘制 git 流程图（支持浏览器、React）。\n##### 1.4 其他\n- git-url-parse - 高级别git解析。\n- giturl - 将Git链接转化成Web链接。\n\n#### 2.环境\n##### 2.1 应用场景1: 如何根据不同环境写入不同环境变量？\n可以使用以下工具：\n\n- cross-env -   跨平台环境脚本的设置，你可以通过一个简单的命令（设置环境变量）而不用担心设置或者使用环境变量的平台。\n- dotenv -    从 .env文件 加载用于nodejs项目的环境变量。\n- vue-cli --mode -   可以通过传递 --mode 选项参数为命令行覆写默认的模式\n\n#### 3.NPM\n##### 3.1 应用场景1: 如何切换不同npm源？\n可以使用以下工具：\n\n- nrm -    快速切换npm注册服务商，如npm、cnpm、nj、taobao等，也可以切换到内部的npm源\n- pnpm -  可比yarn，npm 更节省了大量与项目和依赖成比例的硬盘空间\n##### 3.2 应用场景2: 如何读取package.json信息？\n可以使用以下工具：\n\n- read-pkg-up -   读取最近的package.json文件。\n- node-pkginfo -  从package.json读取属性的简单方法。\n##### 3.3 应用场景3：如何查看当前package.json依赖允许的更新的版本\n可以使用以下工具：\n\n- npm-check-updates -   找当前package.json依赖允许的更新的版本。\n\n![](https://mmbiz.qpic.cn/mmbiz_png/lXoAxSVgJib0N9sSTlQ9DIZ2DQtz2HRBBBR38BwsV91gBqAoAvISwnoibNoMJKfAxDcT6pbibVOPIMciclDM0LfTZQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)\n\n##### 3.4 应用场景4：如何同时运行多个npm脚本\n> 通常我们要运行多脚本或许会是这样npm run build:css && npm run build:js ，设置会更长通过&来拼接\n\n\n可以使用以下工具：\n\n- npm-run-all -   命令行工具，同时运行多个npm脚本（并行或串行）\n\nnpm-run-all提供了三个命令，分别是 npm-run-all run-s run-p，后两者是 npm-run-all 带参数的简写，分别对应串行和并行。而且还支持匹配分隔符，可以简化script配置\n\n或者使用\n- concurrently -    并行执行命令，类似 npm run watch-js & npm run watch-less但更优。（不过它只能并行）\n\n##### 3.5 应用场景5：如何检查NPM模块未使用的依赖。\n可以使用以下工具：\n\n- depcheck -  检查你的NPM模块未使用的依赖。\n\n![](https://mmbiz.qpic.cn/mmbiz_png/lXoAxSVgJib0N9sSTlQ9DIZ2DQtz2HRBBdGCUlZz3vaV0WbAbmLUwT9J7pwicel013tmmqg1iaibaaNiaWBcq3RgkzQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)\n\n#### 3.6 其他：\n- npminstall - 使 npm install 更快更容易，cnpm默认使用\n- semver - NPM使用的JavaScript语义化版本号解析器。\n关于npm包在线查询，推荐一个利器 npm.devtool.tech\n\n![](https://mmbiz.qpic.cn/mmbiz_png/lXoAxSVgJib0N9sSTlQ9DIZ2DQtz2HRBBmFxcibuE5x6iaFicv46Iicmc11RNZQQXwCGgLicxIeHvj3gGyPicM9sgaLuQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)\n\n#### 4.文档生成\n##### 4.1 应用场景1：如何自动生成api文档？\n- docsify -   API文档生成器。\n- jsdoc -  API文档生成器，类似于JavaDoc或PHPDoc。\n\n#### 5.日志工具\n##### 5.1 应用场景1：如何实现日志分类?\n- log4js-nodey -  不同于Java log4j的日志记录库。\n- consola  - 优雅的Node.js和浏览器日志记录库。\n- winston - 多传输异步日志记录库（古老）\n\n#### 6.命令行工具\n##### 6.1 应用场景1: 如何解析命令行输入？\n> 我们第一印象会想到的是process.argv，那么还有什么工具可以解析吗？\n\n可以使用以下工具：\n\n- minimist -   命令行参数解析引擎\n- arg  -  简单的参数解析\n- nopt - Node/npm 参数解析\n\n##### 6.2 应用场景2：如何让用户能与命令行进行交互？\n![](https://mmbiz.qpic.cn/mmbiz_gif/lXoAxSVgJib0N9sSTlQ9DIZ2DQtz2HRBBzJDpYgzJYuKeISuX1Hic1PvVLH4r02x8ufrC5ZuWaBPKPjVMwUv4XXA/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1)\n\n可以使用以下工具：\n\n- Inquirer.js -  通用可交互命令行工具集合。\n- prompts  -  轻量、美观、用户友好的交互式命令行提示。\n- Enquirer -  用户友好、直观且易于创建的时尚CLI提示\n\n##### 6.3  应用场景3: 如何在命令行中显示进度条？\n可以使用以下工具：\n\n- progress -   Node.js的灵活ascii进度条。\n- progress-estimator  -   记录进度条并估计完成承诺所需的时间。\n\n##### 6.4 应用场景4: 如何在命令行执行多任务？\n![](https://mmbiz.qpic.cn/mmbiz_gif/lXoAxSVgJib0N9sSTlQ9DIZ2DQtz2HRBBASZibqjNOmoSwxaNKPWLEk71mxGZG3rL1N9GJXq5wOBlJWLZiaRWnCfw/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1)\n\n可以使用以下工具：\n\n- listr -  命令行任务列表。\n\n##### 6.5 应用场景5: 如何给命令行“锦上添花”？\n\n![](https://mmbiz.qpic.cn/mmbiz_png/lXoAxSVgJib0N9sSTlQ9DIZ2DQtz2HRBBSEZ8HNmNcqXhkBCAmOrseta86qLm5SSndMJiaiaqekwe8WH1mibTgjNBQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)\n\n可以使用以下工具：\n- chalk -   命令行字符串样式美化工具。\n- ora  -    优雅的命令行loading效果。\n- colors.js  -    获取Node.js控制台的颜色。\n- qrcode-terminal  -    命令行中显示二维码。\n- treeify  -     将javascript对象漂亮地打印为树。\n- kleur  -   最快的Node.js库，使用ANSI颜色格式化命令行文本。\n\n#### 7.加解密\n> 一般为了项目安全性考虑，我们通常会对账号密码进行加密，一般会通过MD5、AES、SHA1、SM，那开源社区有哪些库可以方便我们使用？\n\n可以使用以下工具：\n\n- crypto-js -   JavaScript加密标准库。支持算法最多\n- node-rsa  -    Node.js版Bcrypt。\n- node-md5  -    一个JavaScript函数，用于使用MD5对消息进行哈希处理。\n- aes-js  -   AES的纯JavaScript实现。\n- sm-crypto  -   国密sm2, sm3, sm4的JavaScript实现。\n- sha.js  -   使用纯JavaScript中的流式SHA哈希。\n\n#### 8.静态网站生成 & 博客\n> 一键生成网站不香吗~ 基于node体系快速搭建自己的博客网站，你值得拥有，也可以作为组件库文档展示\n\n![](https://mmbiz.qpic.cn/mmbiz_png/lXoAxSVgJib0N9sSTlQ9DIZ2DQtz2HRBBJUkvGs3yETOFeOenkb6lRqrWEOGHyFwFSK3T32vibGFiaibpkJE3MicibOg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)\n\n可以使用以下工具：\n\n- hexo -   使用Node.js的快速，简单，强大的博客框架。\n- vuepress  -   极简的Vue静态网站生成工具。（基于nuxt SSR）\n- netlify-cms  -    基于Git的静态网站生成工具。\n- vitepress  -  Vite & Vue.js静态网站生成工具。\n\n#### 9.数据校验工具\n> 数据校验，离我们最近的就是表单数据的校验，在平时使用的组件库比如element、iview等我们会看到使用了一个开源的校验工具async-validator, 那还有其他吗？\n\n可以使用以下工具：\n- validator.js -    字符串校验库。\n- joi  -   基于JavaScript对象的对象模式描述语言和验证器。\n- async-validator  -   异步校验。\n- ajv  - 最快的JSON Schema验证器\n- superstruct  -  用简单和可组合的方式在JavaScript和TypeScript中校验数据。\n\n#### 10.解析工具\n##### 10.1应用场景1: 如何解析markdown？\n可以使用以下工具：\n- marked -   Markdown解析器和编译器，专为提高速度而设计。\n- remark  -  Markdown处理工具。\n- markdown-it  -支持100%通用Markdown标签解析的扩展&语法插件。\n##### 10.2应用场景2: 如何解析csv？\n可以使用以下工具：\n- PapaParse -   快速而强大的 CSV（分隔文本）解析器，可以优雅地处理大文件和格式错误的输入。\n- node-csv  - 具有简单api的全功能CSV解析器，并针对大型数据集进行了测试。\n- csv-parser  -旨在比其他任何人都快的流式CSV解析器。\n##### 10.3应用场景3: 如何解析xml？\n可以使用以下工具：\n- xml2js -   将XML转换为JavaScript对象的转换器。\n- fast-xml-parser  - 具验证&解析 XML。\n#### 相关文章\n- [有了这些轮子库，我的工作效率提升了N倍！](https://mp.weixin.qq.com/s/3u1HHGjBaxzMoMkkVAqk-A)\n\n### 2. [老生常谈！数据库如何存储时间？你真的知道吗？_不忘初心-CSDN博客_数据库存储时间戳 ](https://blog.csdn.net/qq_34337272/article/details/103971240)\n\n我们平时开发中不可避免的就是要存储时间，比如我们要记录操作表中这条记录的时间、记录转账的交易时间、记录出发时间等等。你会发现这个时间这个东西与我们开发的联系还是非常紧密的，用的好与不好会给我们的业务甚至功能带来很大的影响。所以，我们有必要重新出发，好好认识一下这个东西。这是一篇短小精悍的文章，仔细阅读一定能学到不少东西！1.切记不要用字符串存储日期我记得我在大学的时候就这样干过，而且现在很多...\n\n#### 相关文章\n-  [老生常谈！数据库如何存储时间？你真的知道吗？_不忘初心-CSDN博客_数据库存储时间戳 ](https://blog.csdn.net/qq_34337272/article/details/103971240)\n\n## 30 seconds of code\n### 目标\n用提供的值替换多个对象键的名称\n\n### 样例输出: \n```js\nconst obj = { name: 'Bobo', job: 'Front-End Master', shoeSize: 100 };\nrenameKeys({ name: 'firstName', job: 'passion' }, obj);\n// { firstName: 'Bobo', passion: 'Front-End Master', shoeSize: 100 }\n```\n### 参考实现\n```js\nconst renameKeys = (keysMap, obj) =>\n  Object.keys(obj).reduce(\n    (acc, key) => ({\n      ...acc,\n      ...{ [keysMap[key] || key]: obj[key] }\n    }),\n    {}\n  );\n```\n## 每日一问\n> Http 状态码 301 和 302 的应用场景分别是什么\n## 每日二问\n> 实现模糊搜索结果的关键词高亮显示\n\n![](http://resource.muyiy.cn/image/20191215220524.png)\n\n### 上期的答案\n## 每日一问\n> 分析比较 opacity: 0、visibility: hidden、display: none 优劣和适用场景\n\n- 结构：\n  - display:none: 会让元素完全从渲染树中消失，渲染的时候不占据任何空间, 不能点击，\n  - visibility: hidden:不会让元素从渲染树消失，渲染元素继续占据空间，只是内容不可见，不能点击\n  - opacity: 0: 不会让元素从渲染树消失，渲染元素继续占据空间，只是内容不可见，可以点击\n\n- 继承：\n  - display: none和opacity: 0：是非继承属性，子孙节点消失由于元素从渲染树消失造成，通过修改子孙节点属性无法显示。\n  - visibility: hidden：是继承属性，子孙节点消失由于继承了hidden，通过设置visibility: visible;可以让子孙节点显式。\n\n- 性能：\n- displaynone : 修改元素会造成文档回流,读屏器不会读取display: none元素内容，性能消耗较大\n- visibility:hidden: 修改元素只会造成本元素的重绘,性能消耗较少读屏器读取visibility: hidden元素内容\n- opacity: 0 ： 修改元素会造成重绘，性能消耗较少\n\n## 每日二问\n> 请写一个函数，完成以下功能\n\n```\n输入 '1, 2, 3, 5, 7, 8, 10' 输出 '1~3, 5, 7~8, 10'\n```\n\n```js\nconst nums1 = [1, 2, 3, 5, 7, 8, 10];\nfunction simplifyStr(num) {\n  var result = [];\n  var temp = num[0]\n  num.forEach((value, index) => {\n    if (value + 1 !== num[index + 1]) {\n      if (temp !== value) {\n        result.push(`${temp}~${value}`)\n      } else {\n        result.push(`${value}`)\n      }\n      temp = num[index + 1]\n    }\n  })\n  return result;\n}\nconsole.log(simplifyStr(nums1).join(','))\n```\n\n","tags":[],"folderPathname":"/weekly","data":{},"createdAt":"2021-07-01T06:08:41.606Z","updatedAt":"2021-07-01T07:02:45.202Z","trashed":false,"_rev":"UbCN_mpDg"}