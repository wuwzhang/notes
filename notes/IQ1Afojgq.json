{"title":"git flow","content":"git flow\n==\n\n## 永久分支`master`和`develop`\n1. `master`分支上的`commit`都对应着`tag`\n2. `develop` 和 `master` 是永久存在的分支，从共用分支`master`上拉去develop\n3. 不直接吧`develop`分支合并到`master`分支上，通过`release`分支合并到master分支上\n4. `master`分支和线上版本分支保持一致\n5. `develop`是自动构建分支，总是保持当前已发布或即将发布的代码，是确定下一个将通过`release`分支合并到`master`的代码\n## 临时分支`feature`\n1. 当需要开发新特性时，从`develop`分支拉去`feature`分支\n2. 命名规范可以使用`feat-*`\n3. 开发中存在，在合并到`develop`后丢弃\n4. 通常存在开发者仓库中\n5. `feature`分支做完后（做完是值完成了主体功能，完成了大部分测试与bug的修复，可以存在少量的非重要bug），确认为当前上线的功能时，可合并到`develop`分支上\n## 临时分支`release`\n1. `Release`分支基于`Develop`分支创建，可以在`Release`分支上测试，修改Bug等\n2. 其它开发人员可以基于`Develop`开发新的`Feature` (记住：一旦打了`Release`分支之后不要从`Develop`分支上合并新的改动到`Release`分支)\n3. 发布`release`分支时，合并`release`分支到master和develop上，同时在`master`分支上打个`tag`记住`release`版本号，并删除`release`分支\n## 临时分支`hotfix`\n1. 基于`master`创建分支，开发完后合并到`master`分支和`develop`分支，同时在`master`上打一个`tag`\n## 流程图\n\n![](https://pic4.zhimg.com/80/v2-a3a14bd5fde6f1eb79da04337a835b9b_720w.jpg)\n\n## 实战\n### 新增功能\n```bash\n(dev)$: git checkout -b feature/xxx # 从dev建立特性分支\n(feature/xxx)$: blabla # 开发\n(feature/xxx)$: git add xxx\n(feature/xxx)$: git commit -m 'commit comment'\n(dev)$: git merge feature/xxx --no-ff # 把特性分支合并到dev\n```\n\n### 紧急`bug`修复\n```bash\n(master)$: git checkout -b hotfix/xxx # 从master建立hotfix分支\n(hotfix/xxx)$: blabla # 开发\n(hotfix/xxx)$: git add xxx\n(hotfix/xxx)$: git commit -m 'commit comment'\n(master)$: git merge hotfix/xxx --no-ff # 把hotfix分支合并到master，并上线到生产环境\n(dev)$: git merge hotfix/xxx --no-ff # 把hotfix分支合并到dev，同步代码\n```\n\n### 测试环境\n```bash\n(release)$: git merge dev --no-ff # 把dev分支合并到release，然后在测试环境拉取并测试\n```\n\n### 生产上线\n```bash\n(master)$: git merge release --no-ff # 把release测试好的代码合并到master，运维人员操作\n(master)$: git tag -a v0.1 -m '部署包版本名'  #给版本命名，打Tag\n```\n\n","tags":[],"folderPathname":"/font/workflow","data":{},"createdAt":"2020-10-29T03:02:09.499Z","updatedAt":"2021-01-04T12:14:18.037Z","trashed":false,"_id":"note:IQ1Afojgq","_rev":"59-585917ae0f8ab5f05f4727a73ef820e4"}