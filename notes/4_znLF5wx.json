{"_id":"note:4_znLF5wx","title":"时序图","content":"## [快速学习时序图：时序图简介、画法及实例](http://www.woshipm.com/ucd/607593.html)\n> 时序图作为常用的UML交互图，可以直观的传达系统内外之间的交互过程，经常用在详细设计文档中。\n\n### 什么是时序图？\n时序图（`Sequence Diagram`），亦称为序列图、循序图或顺序图，是一种`UML`交互图。它通过描述对象之间发送消息的时间顺序显示多个对象之间的动态协作。\n\n时序图是一个二维图，横轴表示对象，纵轴表示时间，消息在各对象之间横向传递，依照时间顺序纵向排列。\n\n###  时序图的作用是什么？\n1. 展示对象之间交互的顺序。将交互行为建模为消息传递，通过描述消息是如何在对象间发送和接收的来动态展示对象之间的交互；\n2. 相对于其他`UML`图，时序图更强调交互的时间顺序；\n3. 可以直观的描述并发进程。\n\n### 组成元素有哪些？\n#### 角色（`Actor`）\n系统角色，可以是人、机器、其他系统、子系统；在时序图中用![](image-kmy9kv7m.png)表示\n#### 对象（`Object`）\n- 对象的三种命名方式\n  - 第一种方式包括对象名和类名，例如：直播课时:课时，在时序图中，用“对象：类”表示；\n  - 第二种方式只显示类名，即表示它是一个匿名对象，例如： :课程；在时序图中，用“：类”表示；\n  - 第三种方式只显示对象名不显示类名，例如：讲师；在时序图中，用“对象”表示。\n- 命名方式的选择\n  - 三种命名方式均可，哪种最容易让阅读该时序图的人理解，就选择哪种\n- 对象的排列顺序\n  - 对象的左右顺序并不重要，但是为了作图清晰整洁，通常应遵循以下两个原则\n  - 把交互频繁的对象尽可能的靠拢；\n  - 把初始化整个交互活动的对象放置在最左端\n\n#### 生命线（`Lifeline`）\n在时序图中表示为从对象图标向下延伸的一条虚线，表示对象存在的时间\n\n#### 控制焦点（`Focus of Control`）\n又称为激活期，表示时间段的符号，在这个时间段内对象将执行相应的操作。它可以被理解成`C`语言语义中一对花括号`{ }`中的内容；用小矩形表示\n\n#### 消息（`Message`）\n消息一般分为同步消息（`Synchronous Message`），异步消息（`Asynchronous Message`）和返回消息（`Return Message`）。\n- 消息的发送者把控制传递给消息的接收者，然后停止活动，等待消息的接收者放弃或者返回控制。用来表示同步的意义；\n- 消息发送者通过消息把信号传递给消息的接收者，然后继续自己的活动，不等待接受者返回消息或者控制。异步消息的接收者和发送者是并发工作的。\n- 返回消息表示从过程调用返回。\n\n#### 自关联消息\n表示方法的自身调用或者一个对象内的一个方法调用另外一个方法。\n\n#### 组合片段\n组合片段用来解决交互执行的条件和方式，它允许在序列图中直接表示逻辑组件，用于通过指定条件或子进程的应用区域，为任何生命线的任何部分定义特殊条件和子进程。组合片段共有`13`种，名称及含义如下：\n![](http://image.woshipm.com/wp-files/2017/03/8BnackesskIT5WYJI6Kf.png)\n![](http://image.woshipm.com/wp-files/2017/03/KkHPoU1dR0AY4sLbzlc5.png)\n\n常用组合片段举例：\n\n用来指明在两个或更多的消息序列之间的互斥的选择，相当于经典的`if..else..`\n\n1. 抉择（`Alt`）\n抉择在任何场合下只发生一个序列。 可以在每个片段中设置一个临界来指示该片段可以运行的条件。`else`的临界指示其他任何临界都不为`True`时应运行的片段。如果所有临界都为`False`并且没有`else`，则不执行任何片段。\n![](http://image.woshipm.com/wp-files/2017/03/W2K7C5yR1D45SVvZXY18.png)\n2. 选项（`Opt`）\n包含一个可能发生或不发生的序列；\n![](http://image.woshipm.com/wp-files/2017/03/E59nJupftrA2PQVJNAVG.png)\n3. 循环（`Loop`）\n片段重复一定次数，可以在临界中指示片段重复的条件。\n![](http://image.woshipm.com/wp-files/2017/03/8RrbcwlfkOWs6kcsG47A.png)\n\n4. 并行（`Par`）\n\n![](http://image.woshipm.com/wp-files/2017/03/7wl54XDbyKX4A6NCU2Ok.png)\n\n5. 复用（`Ref`)\n用于快速复用另一张顺序图的部分内容（也就是定义一个片段为`ref`，并命名，在另一张图中只需画个带`ref`的线框，并且标识对应命名即可）\n\n### 时序图的绘制工具\n时序图的绘制工具有`VISO`、`Rational Rose`、`StarUML`、`Web Sequence Diagrams`、`Timing Designer`、`Trufun Plato`等，可任选其一\n\n### 时序图的画法及实例\n- 时序图的绘制步骤可简单总结如下：\n  - 划清边界，识别交互的语境；\n  - 将所要绘制的交互场景中的角色以及对象梳理出来；\n  - 从触发整个交互的某个消息开始，在生命线之间从上到下依次画出所有消息，并注明每个消息的特性（如参数等）。\n  \n接下来，我们按照上面所讲的时序图的绘制步骤，以学生在教务系统中查询其课程的成绩为例，来讲解时序图的绘制方法。\n\n1. 划清边界，识别交互的语境\n所谓划清边界，就是要界定好自己所要画的时序图的范围，“学生在教务系统中查询其课程的成绩”就是所要绘制的时序图的交互内容，不用往上延伸到用户登录，也不要往下延伸到下载成绩单。\n\n识别交互的语境，即是读懂所要画的时序图的前提和背景。比如本例中，既然学生可以查询成绩，那么该学生肯定已经注册并认证过其身份，并可选择其所考试的课程查询相应成绩。\n\n2. 梳理角色和对象\n在本例中，角色有学生，对象有教务系统、课程、成绩。\n\n对象的梳理是一个相对主观的过程，比如本例中，课程以及成绩分别作为了对象存在，也可以合并为数据库这一个对象。\n\n请注意：角色以及对象，都为名词，动词不可作为角色和对象，如“成绩查询”不可作为对象。\n\n![](http://image.woshipm.com/wp-files/2017/03/flVv5i7Vy1R57hP8ADDF.png)\n\n3. 添加消息\n学生的登录验证作为本时序图的前置行为，可直接引用到本时序图中，也可忽略不画；学生进入成绩查询页面后，页面会加载本学生的成绩查询课程列表，并显示出课程对应的成绩；\n\n![](http://image.woshipm.com/wp-files/2017/03/UR7eAVg5JzIQ5U0OeUQK.png)","tags":[],"folderPathname":"/font/workflow","data":{},"createdAt":"2021-04-01T02:13:03.548Z","updatedAt":"2021-04-01T02:58:29.084Z","trashed":false,"_rev":"5s8s5ZzFB"}