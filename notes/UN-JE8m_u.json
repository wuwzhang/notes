{"title":"前端微服务","content":"前端微服务\n==\n\n## 场景\n## 技术选型\n### `single-spa`\n- 将每一个子应用打包成独立的`js`文件，通过`registerApplication`接口来约定子应用与主框架间的交互行为\n- 生命周期，用来做初始化和垃圾收集操作\n- 子应用技术栈无关、独立开发、独立部署\n- 不足\n  - `js`包体积大，无法并行加载\n  - 全局变量、监听污染、样式污染\n### `qiankun`\n> 在 single-spa 的基础上增加了通过 html 加载子应用，子应用样式、js 运行环境隔离等特性\n\n- `html entry`\n  - 应用静态资源表\n## 为什么不使用`Iframe`\n- 状态丢失\n  - `url`刷新，`iframe` `url`状态丢失，前进后退无法使用\n- `DOM`不共享\n  - 无法实现`iframe`中的弹窗在指定位置\n  - 浏览器`resize`\n- 上下文隔离\n  - 内存变量不共享，主应用的`token`传递到子应用中避免重复登录\n- 加载慢","tags":[],"folderPathname":"/font","data":{},"createdAt":"2020-08-07T02:54:21.288Z","updatedAt":"2020-08-07T02:54:29.005Z","trashed":false,"_id":"note:UN-JE8m_u","_rev":"3-ba8c686a13a6ac0309e4284517caa0ba"}